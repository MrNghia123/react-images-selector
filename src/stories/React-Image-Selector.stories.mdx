import { useState } from "react";
import { ArgsTable, Meta, Story, Canvas } from "@storybook/addon-docs";
import { action } from "@storybook/addon-actions";
import Checkbox from "@mui/material/Checkbox";
import Radio from "@mui/material/Radio";
import {
  ReactImageSelector,
  calculateCurrentSelections,
} from "../components/React-Image-Selector/react-image-selector";
import { RISImage } from "../components/React-Image-Selector/react-image-selector";

<Meta title="React Image Selector" component={ReactImageSelector} />

# React Image Selector

With `MDX` we can define a story for `React Image Selector` right in the middle of our markdown documentation. Defaults 4

export const availableImages = [
  { src: "./assets/chinstrap.jpg", value: "chinstrap" },
  { src: "./assets/emperor.jpg", value: "emperor" },
  { src: "./assets/king.jpg", value: "king" },
  { src: "./assets/little.jpg", value: "little" },
];

export const args = {
  multiple: true,
  imageStyles: {
    maxHeight: 300,
    maxWidth: 300,
    height: 150,
    width: 150,
  },
};

export const logEvent = (evt) => {
  action(evt.type)(evt.detail);
};

export const PrimaryTemplate = ({ multiple, imageStyles }) => {
  const [selectedImageValues, setSelectedImageValues] = useState([
    "emperor",
    "unknown",
  ]);
  const [materialControls, setMaterialControls] = useState(false);
  const docsMode = window.location.search.includes("viewMode=docs");
  const SelectorControl = multiple ? Checkbox : Radio;
  const handleOnPick = (image) => {
    const newSelections = multiple
      ? calculateCurrentSelections(image, selectedImageValues)
      : [image?.value];
    setSelectedImageValues(newSelections);
    logEvent({
      type: "onPick",
      detail: { imageSelected: image, newSelections },
    });
  };
  const handleMaterialControls = () => {
    setMaterialControls(!materialControls);
  };
  return (
    <>
      <ReactImageSelector
        availableImages={availableImages}
        selectedImages={selectedImageValues}
        onPick={handleOnPick}
        imageStyles={imageStyles}
        multiple={multiple}
        SelectorControl={
          materialControls && !docsMode ? SelectorControl : undefined
        }
      />
      <div
        style={{
          fontFamily: "Helvetica Neue,Helvetica,Arial,sans-serif",
        }}
      >
        {!docsMode ? (
          <div>
            <div style={{ marginTop: "50px" }}>
              <label htmlFor="usematerial">
                <input
                  type="checkbox"
                  id="usematerial"
                  checked={materialControls}
                  onChange={handleMaterialControls}
                />
                Use Material {multiple ? "checkbox" : "radio button"} controls
              </label>
            </div>
            <div style={{ marginTop: 40 }}>
              Use the Controls tab <span style={{ fontSize: 30 }}>üëá</span> to
              dynamically change props and see what they do to the component.
              Switch to the component's Docs tab{" "}
              <span style={{ fontSize: 30 }}>‚òù</span>
              for a fuller description of how the component works.
            </div>
          </div>
        ) : null}
      </div>
    </>
  );
};

<Canvas>
  <Story name="Default" args={args}>
    {PrimaryTemplate.bind({})}
  </Story>
</Canvas>

## Props

<span style={{ fontSize: 25 }}>üí°</span> Switch to the Canvas Tab <span
  style={{ fontSize: 30 }}
>
  ‚òù
</span> to use the Controls feature, where you can dynamically change props and see
what they do to the component.

<ArgsTable of={ReactImageSelector} />
